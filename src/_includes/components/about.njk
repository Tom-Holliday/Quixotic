{# components/about.njk #}
{% if about %}
<section id="about" class="section about about--bounce">
 <div class="container about__grid">

    <div class="about__copy">
      {% if about.title %}<h2 class="about__title">{{ about.title }}</h2>{% endif %}
      {% if about.kicker %}<p class="about__kicker">{{ about.kicker }}</p>{% endif %}

      {% if about.html %}
        <div class="about__content">{{ about.html | safe }}</div>
      {% elseif about.text %}
        <div class="about__content">
          {% for line in about.text | splitLines %}
            {% if line %}<p>{{ line }}</p>{% endif %}
          {% endfor %}
        </div>
      {% endif %}

      {% if about.cta and about.cta.href %}
        <p class="about__cta">
          <a class="btn" href="{{ about.cta.href }}">{{ about.cta.label or 'Learn more' }}</a>
        </p>
      {% endif %}
    </div>

    {# --- Video only, autoplay muted loop + native controls --- #}
    {% if about.video and about.video.src %}
      <figure class="about__media">
        <video
          id="about-video"
          autoplay
          muted
          loop
          playsinline
          preload="auto"
          controls
          width="{{ about.video.width or 1200 }}"
          height="{{ about.video.height or 800 }}">
          <source src="{{ about.video.src | url }}" type="{{ about.video.type or 'video/mp4' }}">
          {% if about.video.srcWebm %}
            <source src="{{ about.video.srcWebm | url }}" type="video/webm">
          {% endif %}
          {% if about.video.captions %}
            <track
              kind="captions"
              src="{{ about.video.captions | url }}"
              srclang="{{ about.video.srclang or 'en' }}"
              label="{{ about.video.label or 'English' }}">
          {% endif %}
          Sorry, your browser doesnâ€™t support embedded videos.
        </video>
        {% if about.video.caption %}
          <figcaption class="about__caption">{{ about.video.caption }}</figcaption>
        {% endif %}
      </figure>
    {% endif %}

  </div>
</section>
{% endif %}
